# Generated by Wrangler on Wed Jun 11 2025 12:54:56 GMT+0900 (日本標準時)
name = "mentoku-admin"
pages_build_output_dir = "./dist"
compatibility_date = "2025-06-10"
compatibility_flags = ["nodejs_compat"]

# KV Namespaces for OAuth handling
[[kv_namespaces]]
binding = "OAUTH_STATES"
id = "c8dc93e13ab94db5b56f0fd399f73cc7"

[[kv_namespaces]]
binding = "OAUTH_TOKENS"
id = "c8dc93e13ab94db5b56f0fd399f73cc7"

# Environment variables for OAuth
[vars]
# NODE_ENV = "production"
# Set these in Cloudflare dashboard for security:
# NOTION_CLIENT_ID = "your_notion_client_id"
# ASANA_CLIENT_ID = "your_asana_client_id"

# Secrets (set via wrangler secret put)
# NOTION_CLIENT_SECRET = "your_notion_client_secret"
# ASANA_CLIENT_SECRET = "your_asana_client_secret"

# ── Production environment ─────────────────────────────
[env.production]

# Production KV Namespaces
[[env.production.kv_namespaces]]
binding = "OAUTH_STATES"
id = "c8dc93e13ab94db5b56f0fd399f73cc7"

[[env.production.kv_namespaces]]
binding = "OAUTH_TOKENS"
id = "c8dc93e13ab94db5b56f0fd399f73cc7"

# Production environment variables
[env.production.vars]
NODE_ENV = "production"

# Production secrets (set via wrangler secret put --env production)
# NOTION_CLIENT_SECRET = "your_notion_client_secret_prod"
# ASANA_CLIENT_SECRET = "your_asana_client_secret_prod"

# ── Development environment ─────────────────────────────
[env.preview]

# Preview KV Namespaces
[[env.preview.kv_namespaces]]
binding = "OAUTH_STATES"
id = "c8dc93e13ab94db5b56f0fd399f73cc7"

[[env.preview.kv_namespaces]]
binding = "OAUTH_TOKENS"
id = "c8dc93e13ab94db5b56f0fd399f73cc7"

[env.preview.vars]
NODE_ENV = "development"